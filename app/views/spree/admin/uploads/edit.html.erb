<h1><%= Spree.t('edit_upload') %></h1>

<% if @upload.try(:errors).present? %>
  <%= render 'spree/shared/error_messages', :target => @upload %>
<% end %>

<%= form_for([:admin, @upload], :html => { :multipart => true }) do |f| %>
    <p>
      <% if @upload.image_content? %>
        <b><%= Spree.t('preview') %>:</b><br/>
        <%= link_to image_tag(@upload.attachment.url(:small)), @upload.attachment.url(:original) %>
      <% else %>
        <b><%= Spree.t('.link') %>:</b><br/>
        <%= link_to @upload.attachment_file_name, @upload.attachment.url %>
      <% end %>
    </p>
    <%= render "form", :form => f %>
  </table>
  <p class="form-buttons">
    <%= button Spree.t("update") %>
    or <%= link_to Spree.t("cancel"), admin_uploads_url, :id => "cancel_link", class: 'btn btn-danger' %>
  </p>
<% end %>
